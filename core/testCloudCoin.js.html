<html>
<head>

    <script src="random.min.js"></script>
    <script src="CloudCoin.js"></script>
    <script src="StringHolder.js"></script>

</head>
<body>

<h1>Test CloudCoin.js</h1>


<script>
function makeTestCoin(){
let testaoid = ["owner=470603102f95f581689cf0fe13951cce", "account=yes"];
    let testans = ["470603102f95f581689cf0fe13951cce", "470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce"];
   let testCoin = new CloudCoin(1, 16777216, testans, "2012-03-19:07:22", testaoid );
   return testCoin;
}

    </script>

<h2>Test Empty Constructor()</h2>
<button onclick="testEmptyConstructor()">Test</button>
<script>
function testEmptyConstructor(){
let testCoin = new CloudCoin();
  if( testCoin.nn != 0 ){ alert("nn failed");  }
  if( testCoin.sn != 0 ){ alert("sn failed");  }
  if( testCoin.ans != "" ){ alert("ans failed");  }
  if( testCoin.pans.length != 25 ){ alert("pans failed");  }
  if( testCoin.ed != "" ){ alert("ed failed");  }
  if( testCoin.hp != 25 ){ alert("hp failed");  }
  if( testCoin.aoid != 0 ){ alert("aoid failed");  }
  if( testCoin.fileName != "0.CloudCoin.0.0." ){ alert("fileName failed");  }
  if( testCoin.json != "" ){ alert("json failed");  }
  if( testCoin.jpeg != 0 ){ alert("jpeg failed");  }
   //for(let i = 0; i < 25; i++) {
     //if(testCoin.pastStatus[i] != 4){ alert("past status failed"); break;  }}
  if( testCoin.edHex != "" ){ alert("edHex failed");  }
  if( testCoin.YEARSTILEXPIRE != 2 ){ alert("YEARSTILEXPIRE failed");  }
  if( testCoin.folder != 0 ){ alert("folder failed");  }
  let testGrade = testCoin.reportDetectionResults();
  if(testGrade[0] != "None") {alert("grade failed");  }
  if(testGrade[1] != "None") {alert("grade failed");  }
  if(testGrade[2] != "RAIDA total failure") {alert("grade failed");  }
  if( testCoin.pown != "uuuuuuuuuuuuuuuuuuuuuuuuu" ){ alert("pown failed");  }
}
</script>
<h2>Test Constructor()</h2>
<button onclick="testConstructor()">Test</button>
function testConstructor(){

}
</script>
<h2>Test getPastStatus(raida_id)</h2>
<button onclick="testgetPastStatus()">Test</button>
<script>
function testgetPastStatus(){
     let testaoid = ["owner=470603102f95f581689cf0fe13951cce", "account=yes"];
    let testans = ["470603102f95f581689cf0fe13951cce", "470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce"];

 let testCoin = new CloudCoin(1, 16777216, testans, "2012-03-19:07:22", testaoid );
if( testCoin.getPastStatus(1) != "undetected" ){ alert("Get Past Status Failed");  }
//if( testCoin.getPastStatus() == "no valid id" ){ alert("No id error");  }
alert("Test Complete");
}
</script>

<h2>Test setPastStatus(status, raida_id) </h2>
<button onclick="testsetPastStatus()">Test</button>
<script>
function testsetPastStatus(){

 let testaoid = ["owner=470603102f95f581689cf0fe13951cce", "account=yes"];
    let testans = ["470603102f95f581689cf0fe13951cce", "470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce"];
   let testCoin = new CloudCoin(1, 16777216, testans, "2012-03-19:07:22", testaoid );
   testCoin.setPastStatus("pass",20);//3 means pass, 20 is RAIDA20
   //console.log(testCoin.pown);
   if( testCoin.getPastStatus(20) !="pass" ){ alert("Set Past Status Failed");  }
  alert("Test Complete");
}
</script>

<h2>Test getFolder() and setFolder()</h2>
<button onclick="testgetFolder()">Test</button>
<script>
function testgetFolder(){

let testCoin = makeTestCoin();
testCoin.setFolder("Fracked");
if( testCoin.getFolder() !="Fracked"){ alert("getFolder failed");}
testCoin.setFolder("Trash");
if( testCoin.getFolder() !="Trash"){ alert("getFolder failed");}
testCoin.setFolder("Counterfeit");
if( testCoin.getFolder() !="Counterfeit"){ alert("getFolder failed");}
testCoin.setFolder("Bank");
if( testCoin.getFolder() !="Bank"){ alert("getFolder failed");}
alert("Test Complete");
}
</script>
<h2>Test getDenomination()</h2>
<button onclick="testDenomination()">Test</button>
<script>
function testDenomination(){
let testaoid = ["owner=470603102f95f581689cf0fe13951cce", "account=yes"];
    let testans = ["470603102f95f581689cf0fe13951cce", "470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce","470603102f95f581689cf0fe13951cce"];
   let testCoin250 = new CloudCoin(1, 16777216, testans, "2012-03-19:07:22", testaoid );
   let testCoin1 = new CloudCoin(1, 2, testans, "2012-03-19:07:22", testaoid );
   let testCoin5 = new CloudCoin(1, 4194301, testans, "2012-03-19:07:22", testaoid );
   let testCoin25 = new CloudCoin(1, 6291451, testans, "2012-03-19:07:22", testaoid );
   let testCoin100 = new CloudCoin(1, 14680061, testans, "2012-03-19:07:22", testaoid );

if( testCoin1.getDenomination(1)!=1){alert("failed getDenominaiton 1");}
if( testCoin5.getDenomination(4194300)!=5){alert("failed getDenominaiton 5");}
if( testCoin25.getDenomination(6291450)!=25){alert("failed getDenominaiton 25");}
if( testCoin100.getDenomination(14680060)!=100){alert("failed getDenominaiton 100");}
if( testCoin250.getDenomination(16700000)!=250){alert("failed getDenominaiton 250");}
alert("Test Complete");
}
</script>
<h2>Test calculateHP()</h2>
<button onclick="testcalculateHP()">Test</button>
<script>
function testcalculateHP(){
let testCoin = makeTestCoin();

for(let i = 0; i < 25; i++)
{
testCoin.setPastStatus("fail", i);
}
alert(testCoin.pown);

if( testCoin.calculateHP() !=0){alert("failed calcHP with all fails");}
testCoin.setPastStatus("pass", 0);
testCoin.setPastStatus("pass", 1);
testCoin.setPastStatus("pass", 2);
alert(testCoin.pown);
if( testCoin.calculateHP() !=3){alert("failed calcHP, with 3 passes");} //22
} 
</script>
<h2>Test testreportDetectionResults() (was called gradeCoin)</h2>
<button onclick="testreportDetectionResults()">Test</button>
<script>

function testreportDetectionResults(){
let testCoin = makeTestCoin();

for(let i = 0; i < 25; i++)
{
testCoin.setPastStatus("fail", i);
}

alert("All fails:" + testCoin.reportDetectionResults());

for(let i = 0; i < 25; i++)
{
testCoin.setPastStatus("pass", i);
}
alert("All pass:" + testCoin.reportDetectionResults());

for(let i = 0; i < 25; i++)
{
testCoin.setPastStatus("undetected", i);
}
alert("All undetected:" + testCoin.reportDetectionResults());

}
</script>
<h2>Test calcExpirationDate()</h2>
<button onclick="testcalcExpirationDate()">Test</button>
<script>
function testcalcExpirationDate(){

let testCoin = makeTestCoin();
testCoin.calcExpirationDate();
alert("Zero month was Aug 2016. Expiration date if powned today would be "+ testCoin.ed +", binary "+ testCoin.edHex);
alert("Test Complete");
}
</script>
<h2>Test generatePan()</h2>
<button onclick="testgeneratePan()">Test</button>
<script>
function testgeneratePan(){
    let testCoin = makeTestCoin();

    alert("Generating 10,000 GUIDs");
    for(let i = 0; i < 10000; i++)
    {
     if(testCoin.generatePan().length !=32 ){ alert("generatePan failed. One of them was not 32 characters long.")}
    }
    alert("Sample PAN: "+ testCoin.generatePan());
    alert("Test Complete");
}
</script>
<h2>Test grade()</h2>
<button onclick="testgrade()">Test</button>
function testgrade(){

}
</script>
<h2>Test setAnsToPansIfPassed()</h2>
<button onclick="testAnsToPansIfPassed()">Test</button>
<script>
function testAnsToPansIfPassed(){
    let testCoin = makeTestCoin();
  for(let i = 0; i < 25; i++)
     {
         testCoin.ans[i] = "00000000000000000000000000000000";
         testCoin.pans[i] = "11111111111111111111111111111111";
         testCoin.setPastStatus("pass", i);
     }
      testCoin.setAnsToPansIfPassed();
    for(let i = 0; i < 25; i++)
     {
         if ( testCoin.ans[i] != "11111111111111111111111111111111"){ alert("failed set Ans To Pans If Passed");}
     }
     alert("Test Complete");
}

</script>
<h2>Test consoleReport()</h2>
<button onclick="testconsoleReport()">Test</button>
<script>
function testconsoleReport(){
  let testCoin = makeTestCoin();
  let testString = new StringHolder();
  testCoin.consoleReport();
}
</script>
<h2>Test a()</h2>
<button onclick="testa()">Test</button>
function testa(){

}
</script>
<h2>Test generateUUID()</h2>
<button onclick="testgenerateUUID()">Test</button>
<script>
function testgenerateUUID(){

}
</script>

</body>
</html>