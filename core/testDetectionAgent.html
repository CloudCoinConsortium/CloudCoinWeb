<html>
<head>

    <script src="random.min.js"></script>
    <script src="CloudCoin.js"></script>
    <script src="DetectionAgent.js"></script>

</head>
<body>

<h1>Test DetectionAgent.js</h1>


<h2>Test Default Constructor()</h2>
<button onclick="testDefaultConstructor()">Test</button>
<script>
function testDefaultConstructor(){
    let da = new DetectionAgent(20,5000);
    if(da.RAIDANumber !=20){alert("RAIDA number should have been 20")};
if(da.readTimeout !=5000){alert("Read timeout should have been 5000")};
if(da.fullUrl != "https://RAIDA20.cloudcoin.global/service/"){alert("RAIDA full URL should have been https://RAIDA20.cloudcoin.global/service/")};


  alert("Test Complete");
}
</script>


<h2>Test Echo()</h2>
<button onclick="testEcho()">Test</button>
<script>
function testEcho(){
let da = new DetectionAgent(0, 5000);
    let rr = da.echo();//rr is RaidaResponse;
if( !rr.success){ 
    alert("echo failed. See Console"); 
    Console.log(rr.fullRequest);
    Console.log(rr.fullResponse);
    } //end if
  alert("Test Complete");
}
</script>

<h2>Test Detect()</h2>
<button onclick="testDetect()">Test</button>
<script>
function testDetect(){
let da = new DetectionAgent(0, 5000);
    let rr = da.echo();//rr is RaidaResponse;
if( !rr.success){ 
    alert("echo failed. See Console"); 
    Console.log(rr.fullRequest);
    Console.log(rr.fullResponse);
    } //end if
  alert("Test Complete");
}

</script>

<h2>Test get_ticket()</h2>
<button onclick="testget_ticket()">Test</button>
<script>
function testget_ticket(){
let da = new DetectionAgent(22, 5000);
    let rr = da.detect( 1, 3900697, "805f4f97b2e75f9ea6a37635f306b392", "805f4f97b2e75f9ea6a37635f306b392", 5);//rr is RaidaResponse;
if( !rr.success){ 
    alert("Detect failed. See Console"); 
    Console.log(rr.fullRequest);
    Console.log(rr.fullResponse);
    } //end if
  alert("Test Complete");
}
</script>

<h2>Test fix()</h2>
<button onclick="testfix()">Test</button>
<script>
function testfix(){

let da = new DetectionAgent(0, 5000);
    let rr = da.echo();//rr is RaidaResponse;
if( !rr.success){ 
    alert("echo failed. See Console"); 
    Console.log(rr.fullRequest);
    Console.log(rr.fullResponse);
    } //end if
  alert("Test Complete");
}
</script>




</body>
</html>